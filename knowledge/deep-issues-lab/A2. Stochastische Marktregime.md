---
id: CDB-DR-A2
title: 'Analyse Stochastischer Marktregime'
subtitle: 'Erkennung von Marktphasen mittels statistischer Modelle'
author: 'Jannek Buengener, ChatGPT, Claude Code, und Gemini'
date: '2025-12-17'
status: 'Draft'
tags:
  - Marktregime
  - HMM
  - Change-Point Detection
  - Risikomanagement
  - Adaptive Strategie
---

# Analyse Stochastischer Marktregime

> **Management Summary**
>
> Finanzmärkte, insbesondere Kryptomärkte, durchlaufen verschiedene Phasen oder **Regime** (z.B. Trend-, Seitwärts- oder Krisenphasen), die jeweils unterschiedliche Risikoprofile und Renditechancen aufweisen. Eine starre Handelsstrategie ist in diesem dynamischen Umfeld oft nicht robust.
>
> Dieses Dokument analysiert Methoden zur statistischen Erkennung dieser stochastischen Marktregime. Der Fokus liegt auf der Anwendung von **Hidden Markov Models (HMM)** und **Change-Point-Detection (CPD)**-Verfahren, um objektive, datengestützte Signale über den aktuellen Marktzustand zu generieren. Ziel ist es, diese "Regime-Intelligenz" in die Architektur von *Claire de Binare* zu integrieren, um Handelsstrategien adaptiv zu steuern und das Risikomanagement zu verbessern.

---

## 1. Das Konzept der Marktregime

Ein Marktregime ist ein statistisch identifizierbarer Zustand des Marktes, der über einen gewissen Zeitraum durch spezifische Eigenschaften charakterisiert ist. Typische Regime sind:

-   **Trend-Regime (Bullisch/Bärisch):** Gekennzeichnet durch eine signifikante, gerichtete Preisbewegung (positiver oder negativer Drift) und oft moderate Volatilität.
-   **Seitwärts- oder Range-Regime:** Charakterisiert durch geringen oder keinen Drift, wobei sich die Preise innerhalb einer bestimmten Bandbreite bewegen. Die Volatilität ist oft niedrig.
-   **Hochvolatilitäts- oder Krisen-Regime:** Gekennzeichnet durch erratische Preisbewegungen, hohe Volatilität und oft negative Korrelationen. Traditionelle Trend- oder Mean-Reversion-Strategien versagen hier häufig.

Die Fähigkeit eines autonomen Systems, zwischen diesen Regimen zu unterscheiden, ist entscheidend für eine adaptive und robuste Handelslogik.

## 2. Methoden zur Regime-Erkennung

### 2.1. Hidden Markov Models (HMM)

HMMs sind probabilistische Modelle, die davon ausgehen, dass eine beobachtbare Zeitreihe (z.B. Preisrenditen) von einer nicht direkt beobachtbaren (versteckten) Kette von Zuständen abhängt.[^1]

-   **Funktionsweise:** Das Modell lernt aus den Daten:
    1.  Die statistischen Eigenschaften jedes Regimes (z.B. Mittelwert und Varianz der Renditen).
    2.  Die Wahrscheinlichkeiten für Übergänge zwischen den Regimen (z.B. "Wie wahrscheinlich ist ein Wechsel von 'Trend' zu 'Seitwärts'?").
-   **Vorteile:**
    -   **Probabilistische Ausgabe:** Liefert nicht nur den wahrscheinlichsten Zustand, sondern auch die Wahrscheinlichkeiten für alle anderen Zustände, was eine Konfidenzbewertung ermöglicht.
    -   **Flexibilität:** Die Regime müssen nicht vorab definiert werden, sondern werden statistisch aus den Daten extrahiert.
-   **Anwendung:** Ein trainiertes HMM kann in Echtzeit die Wahrscheinlichkeit für das aktuelle Regime schätzen und als Input für die Policy Engine oder den Risk Manager dienen.[^2]

### 2.2. Change-Point-Detection (CPD)

CPD-Algorithmen suchen nach abrupten Änderungen in den statistischen Eigenschaften einer Zeitreihe.

-   **Verfahren:**
    -   **CUSUM (Cumulative Sum):** Ein klassisches Verfahren, das die kumulative Summe von Abweichungen von einem Mittelwert überwacht.
    -   **Bayesian Online Change-Point Detection (BOCPD):** Ein fortgeschrittenes Online-Verfahren, das die Wahrscheinlichkeit eines Wechsels nach jedem neuen Datenpunkt aktualisiert.[^3]
-   **Vorteile:** Sehr gut geeignet, um **plötzliche, strukturelle Brüche** (z.B. den Beginn eines Crashs) schnell zu erkennen.
-   **Anwendung:** Kann als Frühwarnsystem dienen, das bei einem detektierten Wechselpunkt einen Alarm auslöst oder einen Circuit Breaker aktiviert.

### 2.3. Einfache Heuristiken (Schwellenwerte)

-   **Verfahren:** Nutzung von Schwellenwerten auf technischen Indikatoren wie gleitenden Durchschnitten oder Volatilitätsmaßen (z.B. VIX, ATR).
-   **Beispiel:** "Wenn die 10-Tage realisierte Volatilität 80 % übersteigt, wechsle in das 'Hochvolatilitäts'-Regime."
-   **Vorteil:** Einfach zu implementieren und zu interpretieren.
-   **Nachteil:** Anfällig für Fehlsignale ("Whipsaws") und erfordern eine sorgfältige Kalibrierung.

## 3. Integration in die CDB-Architektur

Die Regime-Erkennung sollte als eigenständiger, entkoppelter **`cdb_regime_engine` Microservice** implementiert werden.

-   **Datenfluss:**
    1.  Der `cdb_regime_engine` abonniert den `market_data` Stream von Redis.
    2.  Er berechnet kontinuierlich die Regime-Wahrscheinlichkeiten oder den Regime-Status basierend auf den implementierten Modellen (z.B. HMM).
    3.  Das Ergebnis wird auf einem dedizierten Redis-Kanal (z.B. `market_regime:<SYMBOL>`) als strukturiertes JSON-Objekt publiziert.
-   **Verwendung durch andere Services:**
    -   **Policy Engine / Signal Engine:** Kann die Regime-Information nutzen, um die Strategie anzupassen (z.B. Trendfolgestrategien nur in "Trend"-Regimen aktivieren).
    -   **Risk Manager:** Kann die Positionsgrößen, Stop-Loss-Abstände und Risikolimits basierend auf dem aktuellen Regime dynamisch anpassen (z.B. Exposure in "Krisen"-Regimen reduzieren).
    -   **Profile Manager:** Kann einen Regimewechsel als Trigger für eine Anpassung des globalen Risikoprofils (`konservativ`, `aggressiv`) nutzen.

## 4. Fazit und Empfehlung

Die Erkennung stochastischer Marktregime ist ein entscheidender Schritt, um von einer statischen zu einer **adaptiven, intelligenten Handelsstrategie** überzugehen. Sie ermöglicht es dem System, sein Verhalten proaktiv an die vorherrschenden Marktbedingungen anzupassen, anstatt nur reaktiv auf Preisbewegungen zu agieren.

**Empfehlung:**
Die Implementierung eines **`cdb_regime_engine`-Microservice** wird dringend empfohlen. Für eine erste Version ist ein **Hidden Markov Model (HMM) mit 2-3 Zuständen**, das auf Preisrenditen und einem Volatilitätsmaß trainiert wird, ein pragmatischer und zugleich leistungsstarker Ansatz. Die Ergebnisse sollten, wie bei allen Modellen, durch rigoroses Backtesting und die Überwachung der Out-of-Sample-Performance validiert werden.

---

